<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lista de Compras para Churrasco</title>

    <link rel="shortcut icon" href="icon.png" type="image/x-icon">
    <!-- Dentro da seção head -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="manifest" href="manifest.json">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="ChurrasApp">
    <link rel="apple-touch-icon" href="icon.png">
    <meta name="apple-mobile-web-app-status-bar" content="#ffffff" />
    <meta name="theme-color" content="#ffffff" />


    <script src="https://kit.fontawesome.com/eb087764b4.js" crossorigin="anonymous"></script>

    <link rel="stylesheet" type="text/css" href="assets/semantic-ui/semantic.min.css">
    <link rel="stylesheet" type="text/css" href="assets/css/styles.css">
    <script src="https://code.jquery.com/jquery-3.1.1.min.js"
        integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
    <script src="assets/semantic-ui/semantic.min.js"></script>


</head>

<body>
    <div class="ui segment basic">
        <div class="ui container">
            <h2 class="ui center aligned icon header">
                <i class="circular shopping basket icon"></i>
                Churrasco - Lista de Compras
            </h2>


            <form class="ui form" id="churrasco-form">


                <div class="participantes" id="participantes-section">

                    <h4 class="ui dividing header">Participantes</h4>
                    <div class="field">
                        <div class="three fields">
                            <div class="field">
                                <label for="homens">Número de Homens:</label>
                                <input type="number" id="homens" min="0" value="0">
                            </div>
                            <div class="field">
                                <label for="mulheres">Número de Mulheres:</label>
                                <input type="number" id="mulheres" min="0" value="0">
                            </div>
                            <div class="field">
                                <label for="criancas">Número de Crianças:</label>
                                <input type="number" id="criancas" min="0" value="0">
                            </div>
                        </div>
                    </div>


                </div>

                <div class="assados" id="assados-section">

                    <h4 class="ui dividing header">Assados</h4>

                    <div class="six fields">
                        <div class="field">
                            <div class="ui  teal toggle checkbox">
                                <input type="checkbox" name="bovina" id="bovina">
                                <label for="bovina">Carne bovina</label>
                            </div>
                        </div>
                        <div class="field">
                            <div class="ui  teal toggle checkbox">
                                <input type="checkbox" name="suina" id="suina">
                                <label>
                                    Carne Suína
                                </label>

                            </div>
                        </div>
                        <div class="field">
                            <div class="ui  teal toggle checkbox">
                                <input type="checkbox" name="linguica" id="linguica">
                                <label>
                                    Linguiça
                                </label>

                            </div>
                        </div>
                        <div class="field">
                            <div class="ui  teal toggle checkbox">
                                <input type="checkbox" name="frango" id="frango">
                                <label>
                                    Frango
                                </label>

                            </div>
                        </div>
                        <div class="field">
                            <div class="ui  teal toggle checkbox">
                                <input type="checkbox" name="paodealho" id="paodealho">
                                <label>
                                    Pao de alho
                                </label>

                            </div>
                        </div>
                        <div class="field">
                            <div class="ui  teal toggle checkbox">
                                <input type="checkbox" name="queijo" id="queijo">
                                <label>
                                    Queijo
                                </label>

                            </div>
                        </div>
                    </div>


                </div>

                <div class="bebidas" id="bebidas-section">

                    <h4 class="ui dividing header">Bebidas</h4>
                    <div class="field">
                        <div class="four fields">
                            <div class="field">
                                <div class="ui  teal toggle checkbox">
                                    <input type="checkbox" name="cerveja" id="cerveja">
                                    <label for="cerveja">
                                        Cerveja
                                    </label>


                                </div>
                            </div>
                            <div class="field">
                                <div class="ui  teal toggle checkbox">
                                    <input type="checkbox" name="agua" id="agua">
                                    <label>
                                        Água
                                    </label>

                                </div>
                            </div>
                            <div class="field">
                                <div class="ui  teal toggle checkbox">
                                    <input type="checkbox" name="suco" id="suco">
                                    <label>
                                        Suco
                                    </label>

                                </div>
                            </div>
                            <div class="field">
                                <div class="ui  teal toggle checkbox">
                                    <input type="checkbox" name="refrigerante" id="refrigerante">
                                    <label>
                                        Refrigerante
                                    </label>

                                </div>
                            </div>

                        </div>
                    </div>



                </div>

                <div class="duracao" id="duracao-section">
                    <h4 class="ui dividing header center">Participantes</h4>
                    <div class="field">
                        <div class="four fields">
                            <div class="field">
                                <div class="ui teal slider checkbox">
                                    <input type="radio" name="duracao" id="4h" value="4" checked>
                                    <label>
                                        Até 4h
                                    </label>
                                </div>


                            </div>
                            <div class="field">
                                <div class="ui teal slider checkbox">
                                    <input type="radio" name="duracao" id="6h" value="6">
                                    <label>
                                        Até 6h
                                    </label>
                                </div>


                            </div>
                            <div class="field">
                                <div class="ui teal slider checkbox">
                                    <input type="radio" name="duracao" id="8h" value="8">
                                    <label>
                                        Até 8h
                                    </label>
                                </div>

                            </div>
                            <div class="field">
                                <div class="ui teal slider checkbox">
                                    <input type="radio" name="duracao" id="12h" value="12">
                                    <label>
                                        Até 12h
                                    </label>
                                </div>


                            </div>
                        </div>
                    </div>



                </div>
                <!-- Botões de navegação -->
                <button type="button" id="prev-button" class="ui left button" onclick="prevSection()">Passo Anterior</button>
                <button type="button" id="next-button" class="ui right floated button" onclick="nextSection()">Próxima Seção</button>

                <button type="submit" class="fluid ui button" id="submit-form">Calcular Lista</button>
            </form>



            <div class="ui info message">
                <i class="close icon"></i>
                <div class="header">
                    Lista de Compras
                </div>
                <ul class="list" id="resultado">
                </ul>
            </div>
        </div>

        <div id="offline-message" class="offline-message">
            Você está offline. O conteúdo pode não estar atualizado.
        </div>
    </div>
    <script>
        $(document).ready(function () {


            $('.ui.checkbox,.ui.radio.checkbox')
                .checkbox()
                ;
        })
        document.getElementById('churrasco-form').addEventListener('submit', function (event) {
            event.preventDefault();
            const homens = parseFloat(document.getElementById('homens').value);
            const mulheres = parseFloat(document.getElementById('mulheres').value);
            const criancas = parseFloat(document.getElementById('criancas').value);
            const todos = (homens + mulheres) + (criancas / 2);
            const adultos = (homens + mulheres);

            const duracao = parseFloat(document.querySelector('input[name="duracao"]:checked').value);


            console.log(duracao)

            //assados
            const bovinaCheckbox = document.getElementById('bovina');
            const suinaCheckbox = document.getElementById('suina');
            const linguicaCheckbox = document.getElementById('linguica');
            const frangoCheckbox = document.getElementById('frango');
            const paodealhoCheckbox = document.getElementById('paodealho');
            const queijoCheckbox = document.getElementById('queijo');



            let resultado = ``;

            if (bovinaCheckbox.checked) {
                resultado += ` <li>Carne Bovina: ${calcularCarneBovina(todos, duracao)} kg</li>
               `
            }
            if (suinaCheckbox.checked) {
                resultado += ` <li>Suina: ${calcularCarneSuina(todos, duracao)} kg</li>`
            }

            if (linguicaCheckbox.checked) {
                resultado += `
                <li>Linguiça: ${calcularLinguica(todos, duracao)} kg</li>`
            }

            if (frangoCheckbox.checked) {
                resultado += `<li>Frango: ${calcularFrango(todos, duracao)} kg</li>`
            }
            if (queijoCheckbox.checked) {
                resultado += `<li>Queijo: ${calcularQueijo(todos, duracao)} kg</li>`
            }
            if (paodealhoCheckbox.checked) {
                resultado += `<li>Pão de Alho: ${calcularPaoDeAlho(todos, duracao)} kg</li>`
            }




            resultado += `<h3>Bebidas</h3>`

            //bebidas
            const cervejaCheckbox = document.getElementById('cerveja');
            const aguaCheckbox = document.getElementById('agua');
            const sucoCheckbox = document.getElementById('suco');
            const refrigeranteCheckbox = document.getElementById('refrigerante');



            if (cervejaCheckbox.checked) {
                resultado += `
                <li>Cerveja: ${calcularCerveja(adultos, duracao)} L</li>`
            }

            if (aguaCheckbox.checked) {
                resultado += `<li>Água: ${calcularAgua(todos, duracao)} L</li>`
            }
            if (sucoCheckbox.checked) {
                resultado += ` <li>Suco: ${calcularSuco(todos, duracao)} L</li>`
            }
            if (refrigeranteCheckbox.checked) {
                resultado += `<li>Refrigerante: ${calcularRefrigerante(todos, duracao)} L</li>`
            }

            resultado += `
                <!-- Adicione mais itens aqui -->
                <h3>Esseciais</h3>
                <br>
                <li>Sal grosso: ${calcularSalGrosso(todos, duracao)} Kg</li>
                <li>Carvao: ${calcularCarvao(todos, duracao)} Kg</li>
                <li>Gelo: ${calcularGelo(todos, duracao)} Kg</li>`

            document.getElementById('resultado').innerHTML = resultado;
        });

        function calcularCarneBovina(pessoas, duracao = 4) {
            var fTempo = duracao / 4;
            return (pessoas * 200 * fTempo) / 1000;
        }
        function calcularCarneSuina(pessoas, duracao = 4) {
            var fTempo = duracao / 4;
            return (pessoas * 150 * fTempo) / 1000;
        }
        function calcularLinguica(pessoas, duracao = 4) {
            var fTempo = duracao / 4;
            return (pessoas * 72 * fTempo) / 1000;
        }

        function calcularFrango(pessoas, duracao = 4) {
            var fTempo = duracao / 4;
            return (pessoas * 42 * fTempo) / 1000;
        }
        function calcularQueijo(pessoas, duracao = 4) {
            var fTempo = duracao / 4;
            return (pessoas * 23 * fTempo) / 1000;
        }

        function calcularPaoDeAlho(pessoas, duracao = 4) {
            var fTempo = duracao / 4;
            return (pessoas * 62 * fTempo) / 1000;
        }




        function calcularCerveja(pessoas, duracao = 4) {
            var fTempo = duracao / 4;
            return (pessoas * 860 * fTempo) / 1000;
        }
        function calcularRefrigerante(pessoas, duracao = 4) {
            var fTempo = duracao / 4;
            return (pessoas * 370 * fTempo) / 1000;
        }
        function calcularAgua(pessoas, duracao = 4) {
            var fTempo = duracao / 4;
            return (pessoas * 190 * fTempo) / 1000;
        }
        function calcularSuco(pessoas, duracao = 4) {
            var fTempo = duracao / 4;
            return (pessoas * 190 * fTempo) / 1000;
        }


        function calcularSalGrosso(pessoas, duracao = 4) {
            var fTempo = duracao / 4;
            return (pessoas * 34 * fTempo) / 1000;
        }
        function calcularCarvao(pessoas, duracao = 4) {
            var fTempo = duracao / 4;
            return (pessoas * 343 * fTempo) / 1000;
        }
        function calcularGelo(pessoas, duracao = 4) {
            var fTempo = duracao / 4;
            return (pessoas * 1600 * fTempo) / 1000;
        }



        // Adicione mais funções de cálculo aqui
    </script>


    <script>

        // Verificar status da conexão e exibir mensagem offline ao carregar a página
        document.addEventListener("DOMContentLoaded", () => {
            const offlineMessage = document.getElementById("offline-message");
            offlineMessage.style.display = navigator.onLine ? "none" : "block";

        });

        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('service-worker.js')
                    .then(registration => {
                        console.log('Service Worker registrado com sucesso:', registration);
                    })
                    .catch(error => {
                        console.error('Falha ao registrar o Service Worker:', error);
                    });
            });
        }
    </script>


    <script>
        let currentSection = 1;

        function showSection(sectionNumber) {
            const sections = ["participantes-section", "assados-section", "bebidas-section", "duracao-section"];

            sections.forEach(section => {
                document.getElementById(section).style.display = "none";
            });

            document.getElementById(sections[sectionNumber - 1]).style.display = "block";

            // Atualiza os botões de navegação
            document.getElementById('prev-button').disabled = sectionNumber === 1;
            document.getElementById('next-button').disabled = sectionNumber === sections.length;
            //document.getElementById('submit-form').disabled = sectionNumber < sections.length;
            // Atualiza a visibilidade do botão "Calcular Lista"
            //document.getElementById('next-button').style.display = (sectionNumber < sections.length) ? "inline-block" : "none";
            document.getElementById('submit-form').style.display = (sectionNumber === sections.length) ? "inline-block" : "none";

        }

        function nextSection() {
            if (currentSection < 4) {
                currentSection++;
                showSection(currentSection);
            }
        }

        function prevSection() {
            if (currentSection > 1) {
                currentSection--;
                showSection(currentSection);
            }
        }

        document.addEventListener("DOMContentLoaded", () => {
            showSection(currentSection);
        });
    </script>

</body>

</html>